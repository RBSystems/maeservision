<!DOCTYPE HTML>
<html>
    <head>

    <script type="text/javascript">
        function startWebsocket() {
            var ws = new WebSocket("ws://localhost:5275/websocket");

            ws.onmessage = function (evt) {
                const data = JSON.parse(evt.data);
                if (data.type === "live"){
                    var liveArea = document.getElementById("liveArea");
                    liveArea.src = "data:image/jpeg;base64," + data.image;
                } else if (data.type === "recognized") {
                    var imgArea = document.getElementById("imgArea");
                    var img = document.createElement("IMG");
                    img.src = "data:image/jpeg;base64," + data.image;
                    imgArea.appendChild(img);
                } else if (data.type === "cut"){
                    var cutArea = document.getElementById("cutArea");
                    var cut = document.createElement("IMG");
                    cut.src = "data:image/jpeg;base64," + data.image;
                    cutArea.appendChild(cut);
                }

            };
        }
    </script>

    </head>

    <body>
        <button onclick="javascript:startWebsocket()">Subscribe</button>
        <img id="liveArea" src="" />
        <div id= "cutArea">
            </div>
        <div id="imgArea">
        </div>
    </body>
</html>
