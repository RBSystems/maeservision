<!DOCTYPE HTML>
<html>
    <head>

    <script type="text/javascript">
        function startWebsocket() {
            var ws = new WebSocket("ws://localhost:5275/websocket");

            ws.onmessage = function (evt) {
                const data = JSON.parse(evt.data);
                var nameArea = document.getElementById("nameArea");
                nameArea.value = nameArea.value + "\n" + data.name;

                var imageArea = document.getElementById("imageArea");
                imageArea.src = "data:image/jpeg;base64," + data.image;

            };
        }
    </script>

    </head>

<body>
    <button onclick="javascript:startWebsocket()">Subscribe</button>
    <textarea id="nameArea">Name Area</textarea>
    <img id="imageArea" src="" />
</body>
</html>
